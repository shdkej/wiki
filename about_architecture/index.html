<!DOCTYPE html><html lang="kr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><script>
            (function(c,l,a,r,i,t,y){
                c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
                t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
                y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
            })(window, document, "clarity", "script", "446ekw0kl6");
            </script><script data-ad-client="ca-pub-8002857692825455" async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><meta name="naver-site-verification" content="0738293103ffff9ea9eb43b3c9621e5fb353f97b"/><meta name="generator" content="Gatsby 5.13.7"/><meta data-react-helmet="true" name="description" content="확장성 50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게
염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.
그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다 단일고장점이 없는 아키텍처라면
새로운 기술을 도입하는 것이 쉽게 될 수 있겠다 hdd…"/><meta data-react-helmet="true" property="og:title" content="아키텍처"/><meta data-react-helmet="true" property="og:description" content="확장성 50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게
염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.
그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다 단일고장점이 없는 아키텍처라면
새로운 기술을 도입하는 것이 쉽게 될 수 있겠다 hdd…"/><meta data-react-helmet="true" property="og:type" content="website"/><style data-href="/styles.45d15e33f48c6c9c8d0d.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}:root{--main-color:#000;--second-color:#f5f5f7;--heading-color:#ff8c00}[data-theme=dark]{--main-color:silver;--second-color:#000;--heading-color:salmon}body{background-color:var(--main-color,var(--second-color));color:var(--second-color);font-family:sans-serif;font-size:19px;margin:1rem auto;max-width:900px;padding:1rem}h1{color:var(--heading-color)}h2:before{content:"# "}h2,h4{margin-left:-15px;margin-top:50px}h4:before{content:"## "}p{color:var(--second-color,var(--main-color));margin-bottom:0}ul{margin-top:0;padding-inline-start:20px}ul p{margin:0}a{color:#40a0bd;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:top}a:visited{color:#40a0ba}pre{background:#161b22;padding:15px}code{color:salmon;display:block;overflow:auto}blockquote{font-style:italic}header h3{margin:2em 0 0}:target:before{content:"";display:block;height:50px;margin-top:-50px}@media (min-width:1200px){.content-toc{display:block;max-height:60vh;overflow-x:hidden;overflow-y:auto;padding:0 20px;position:fixed;right:0;top:300px;width:20%}.toc-header{top:280px}}@media (max-width:1200px){.content-toc{margin-top:50px}}@media (max-width:600px){.square{grid-column:1/4}.square-center{display:none!important}}.square-field{grid-gap:10px;display:grid;font-weight:700;grid-template-areas:". . ." ". center ." ". . .";grid-template-columns:repeat(3,1fr)}.square{border:1px solid #fff;border-radius:5px;overflow:hidden;padding:10px;text-overflow:ellipsis}.square-center{align-items:center;background:linear-gradient(90deg,#6a11cb 0,#2575fc);border-radius:5px;color:#fff;display:flex;grid-area:center;justify-content:center}.rel{display:inline-block;opacity:.8;padding:5px}:not(pre)>code[class*=language-]{background:none;color:salmon;display:inline}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">아키텍처 | SH</title><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-GPKPTMNVF5"></script><script>
    window.GATSBY_GTAG_PLUGIN_GA_TRACKING_ID = (
      'G-GPKPTMNVF5'
    );
    window.GATSBY_GTAG_PLUGIN_ANONYMIZE = false;

    var options = {
      send_page_view: false
    };
    if (false) {
      options.anonymize_ip = true;
    }

    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    window.gtag = gtag;
    gtag('js', new Date());
    gtag('config', 'G-GPKPTMNVF5', options);
  </script></head><body class=""><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><header><nav><a href="/">SH</a> | <a href="/tags/">INDEX</a> | <a href="/about/">ABOUT</a></nav></header><br/>---<main><article><header><h1>아키텍처</h1><p></p><small style="width:50%">Created: <!-- -->2021, 05 20<!-- --> &gt;<a href="https://github.com/shdkej/shdkej.github.io/blame/master/content/About_Architecture.md">Updated: <!-- -->2021, 12 04</a></small></header><nav class="content-toc"><strong>Table of Contents</strong><div><ul>
<li>
<p><a href="#%ED%99%95%EC%9E%A5%EC%84%B1">확장성</a></p>
<ul>
<li>
<ul>
<li><a href="#portable-universal">portable, universal</a></li>
<li><a href="#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83-vscollection">변하는 것과 변하지 않는 것 :vs:collection:</a></li>
<li><a href="#%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%8A%94-%EC%96%B8%EC%A0%9C%EA%B9%8C%EC%A7%80-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C">소프트웨어는 언제까지 확장되는게 좋을까</a></li>
<li><a href="#%ED%99%95%EC%9E%A5---%EB%AA%A8%EB%93%88">확장 -> [[모듈]]</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98">[[*아키텍처]]</a></p>
<ul>
<li>
<ul>
<li><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%AA%A8%EB%B2%94-%EC%82%AC%EB%A1%80">아키텍처 모범 사례</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#msa">[[MSA]]</a></p>
</li>
<li>
<p><a href="#devops">[[Devops]]</a></p>
</li>
<li>
<p><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%AA%A8%EB%93%88%EB%A1%9C-%EA%B5%AC%EC%84%B1">프로젝트를 [[모듈]]로 구성</a></p>
</li>
<li>
<p><a href="#%EB%B6%84%EC%82%B0">[[분산]]</a></p>
</li>
<li>
<p><a href="#sre">SRE</a></p>
<ul>
<li>
<ul>
<li><a href="#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%88%98%EC%9A%A9%EB%9F%89-%ED%99%95%EC%9D%B8">서비스 사용자 수용량 확인</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4">아키텍처 레퍼런스</a></p>
<ul>
<li>
<ul>
<li><a href="#%EC%8B%9C%ED%80%80%EC%8A%A4">시퀀스</a></li>
<li><a href="#%ED%8C%A8%ED%84%B4%ED%99%94">패턴화</a></li>
<li><a href="#%EB%8B%B9%EA%B7%BC%EB%A7%88%EC%BC%93-%EB%8B%B9%EA%B7%BC%ED%8E%98%EC%9D%B4-%EC%9D%B8%ED%94%84%EB%9D%BC-%EA%B5%AC%EC%B6%95-%EC%9D%B4%EC%95%BC%EA%B8%B0">당근마켓 당근페이 인프라 구축 이야기</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="#%EB%B6%84%EC%82%B0-1">분산</a></p>
<ul>
<li>
<ul>
<li><a href="#%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%B4-%EB%B6%84%EC%82%B0-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%9E%98-%EB%8F%8C%EC%95%84%EA%B0%80%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%82%AC%EB%A1%80%EC%9D%B8-%EA%B2%83-%EA%B0%99%EB%8B%A4">이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다</a></li>
<li><a href="#multi-processing">Multi Processing</a></li>
<li><a href="#%EB%B6%84%EC%82%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%98-%ED%95%B4%EA%B2%B0%EC%B1%85%EC%9C%BC%EB%A1%9C-ci%EA%B0%80-%EB%82%98%EC%99%94%EB%8B%A4">분산 개발 환경의 해결책으로 ci가 나왔다</a></li>
<li><a href="#%EA%B3%84%EC%B8%B5%EC%A0%81%EC%9D%B8-%EA%B2%83%EA%B3%BC-%EB%B6%84%EC%82%B0%EB%90%9C-%EA%B2%83">계층적인 것과 분산된 것</a></li>
<li><a href="#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%95%B4%EB%B2%95%EC%9D%84-%EB%8B%A4%EB%A5%B8-%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%96%BB%EA%B3%A0%EC%9E%90-%ED%95%9C%EB%8B%A4">마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다</a></li>
<li><a href="#%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4">라즈베리파이</a></li>
<li><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%85%B8%ED%95%98%EC%9A%B0">아키텍처 노하우</a></li>
<li><a href="#%EC%95%8C%EB%A6%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84">알림 시스템 설계</a></li>
<li><a href="#%EC%A0%95%EC%A0%81%ED%8E%98%EC%9D%B4%EC%A7%80%EB%A1%9C-%EC%B5%9C%EB%8C%80%ED%95%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%84%9C-cdn-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0">정적페이지로 최대한 만들어서 cdn 이용하기</a></li>
</ul>
</li>
</ul>
</li>
</ul></div></nav><div style="border-top:1px solid;align:center"></div><section><h2 id="확장성" style="position:relative;"><a href="#%ED%99%95%EC%9E%A5%EC%84%B1" aria-label="확장성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>확장성</h2>
<p>50 유저를 상대로 운영하고 있지만 10만 유저를 상대할때도 문제가 생기지 않게
염두에 두고 수정한다. 하지만 임시방편으로 해결할 때도 있다.
그런 임시방편을 잘 리스트화해서 처리를 잘 해야겠다</p>
<p>단일고장점이 없는 아키텍처라면
새로운 기술을 도입하는 것이 쉽게 될 수 있겠다</p>
<p>hdd로 구축된 서버에서 한대만 ssd로 교체해서 상황을 지켜보고, 문제가 있어도 다른
서버에서 커버할 수 있다면 문제점 파악하는데에 도움이 되겠다</p>
<p>소프트웨어 자체의 에러가 전체에 영향을 미치지 못하도록 하면 다른 것으로 교체하면
그만이라서 관리하기 쉽겠다</p>
<p>3대의 서버를 켜놓고 1대씩 리부팅을 해도 나머지 2대가 있어서 괜찮다면 오래 켜놔서
생기는 문제를 막을 수 있듯이
일부러 1대씩 계속 재부팅되도록 하고, 상태저장이 필요 없도록 하면 os의 문제에서
조금은 자유로워지지 않을까
재부팅하면 캐시가 다시 쌓여야하는 부분은 확인해봐야겠다</p>
<p>3대의 서버를 한 묶음으로 추가 자원이 필요하면 이 묶음이 여러개가 되도록 하면
확장성 문제도 해결되지 않을까?
쿠버네티스에서는 이를 지원해준다</p>
<p>쿠버네티스는 고가용성, 확장성, 배포를 바로 할 수 있게 해줘서 좋다
서버는 필연적으로 고가용성과 확장성과 배포가 필요하다
추가로 모니터링, 로깅도 세트다</p>
<h4 id="portable-universal" style="position:relative;"><a href="#portable-universal" aria-label="portable universal permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>portable, universal</h4>
<p>새로운 기술이나 지식을 얻었을 때 우리의 업무에 바로 적용할 수 있는 자유로움</p>
<p>회사의 상황에 맞추기보다 표준에 맞추는 방향</p>
<p>데이터베이스를 커스터마이징하기보다 어댑터를 이용해 원본은 잘 지켜나가서 새로운
것이 생겼을 때 바로 도입할 수 있는 환경</p>
<h4 id="변하는-것과-변하지-않는-것-vscollection" style="position:relative;"><a href="#%EB%B3%80%ED%95%98%EB%8A%94-%EA%B2%83%EA%B3%BC-%EB%B3%80%ED%95%98%EC%A7%80-%EC%95%8A%EB%8A%94-%EA%B2%83-vscollection" aria-label="변하는 것과 변하지 않는 것 vscollection permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>변하는 것과 변하지 않는 것 :vs:collection:</h4>
<p>변하지 않는 것은 없지만 빠르게 변하는 것과 천천히 변하는 것은 나눠져 있다
아키텍처를 구성할 때 천천히 변하는 것을 잘 분리하여 빨리 변하는 것에 더 집중하고
천천히 변하는 것은 잘 유지할 수 있도록 하면 좋겠다</p>
<p>아이폰의 뒷면</p>
<h4 id="소프트웨어는-언제까지-확장되는게-좋을까" style="position:relative;"><a href="#%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EB%8A%94-%EC%96%B8%EC%A0%9C%EA%B9%8C%EC%A7%80-%ED%99%95%EC%9E%A5%EB%90%98%EB%8A%94%EA%B2%8C-%EC%A2%8B%EC%9D%84%EA%B9%8C" aria-label="소프트웨어는 언제까지 확장되는게 좋을까 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>소프트웨어는 언제까지 확장되는게 좋을까</h4>
<p>무한정 소프트웨어가 비대해지면 관리도 힘들고, 또 그렇게 커질 필요도 없다
네이버에서는 검색 기능은 다른 기능과 분리되어 있고, 팀도 따로 분리되어 있다.
회사 팀 구조도 개발팀을 다른 팀과 분리하는 경우도 있고,
기능별로 개발,디자인,기획을 같은 팀에 구성하는 경우도 있을텐데,
어떤 경우에 어떤 구성이 좋을까</p>
<h4 id="확장---모듈" style="position:relative;"><a href="#%ED%99%95%EC%9E%A5---%EB%AA%A8%EB%93%88" aria-label="확장   모듈 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>확장 -> </section><div role="link" tabindex="0"><a href="/모듈/">모듈</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></h4>
<p>각 서비스가 많은 트래픽을 감당할 수 있어야 하고,
분산 처리 시스템처럼, 묶였을 때 트래픽 처리가 선형적으로 증가 되야 한다</p>
<p>쉽게 교체할 수 있는 모듈의 형태로 구성되야 한다. 하지만 쉽게 교체할 수 있다는
것이 진리는 아니다.</p>
<p>기능별로 팀이 구성되 있을 때 그 팀에 오래 있던 사람이 나가고 새로운 사람이
들어오면 새로운 사람이 대체하려면 아주 힘들다. 애초에 대체는 안되고 다른 역할이
되겠지만.
메뉴얼이 쌓여있어도 기존 작업을 100% 알 수 없다.
기능별로 집중했기 때문에 깊고 많은 내용이 섞여있고, 그래서 기능적으로
성숙해졌지만 새로운 사람에게는 따라가야 할 길이 멀어진다.
이게 경험의 차이라고 불리워지는 것인 것 같다.
기능별 팀에서의 문제가 아니라 인간세상의 문제였다.</p>
<p>기능의 깊이가 어느정도 깊어지면 다시 분리해야 한다.
근데 사람의 수는 한정적이어서 분리가 안된다</p>
<h2 id="아키텍처" style="position:relative;"><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98" aria-label="아키텍처 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></section><div role="link" tabindex="0"><a href="/*아키텍처/">*아키텍처</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></h2>
<blockquote>
<p>정책과 세부사항으로, 룰과 가이드를 구분.
아키텍처의 목표는 정책과 세부사항을 적절히 구분해 세부사항의 결정은 최대한 미룰
수 있게 하는 것</p>
<blockquote>
<p>클린 아키텍처</p>
</blockquote>
</blockquote>
<p>아키텍처 구축의 목표점은 없다
<strong>좋은 기준점을 만들어서 그 기준점을 계속 개선해나가는 것이 최선</strong></p>
<p>이런 관점에서 쿠버네티스, react, graphql, backend를 어떻게 구성해야하나?
정책과 세부사항이 너무 많으면 기준점을 잘 지켜나갈 수 있을까?</p>
<p>선택과 집중, 유연하고 융합적인 환경 - 두 가치를 어떻게 잘 융합할 수 있을까</p>
<p>분산화 하는 것이 시대의 흐름</p>
<p>심플하게 유지. 0에서 10은 심플이 아니다. 100에서 10이 심플</p>
<p>제한이 필요하다</p>
<p>큰 그림 > 작은 그림</p>
<p>비즈니스 로직에서 추상화를 어디까지 하는게 좋을까
과한 추상화는 실체가 없다는 느낌을 줄 수 있겠다.
어디까지 추상화를 할지는 어떤 목적으로 프로그램을 만드느냐에 따라 조정된다
모든 것이 추상화되고 가변적일 필요는 없다
Mysql tip 글에서 DB 모델링 시 지나친 추상화를 하지 말라는 조언이 있었다.</p>
<ul>
<li>언어를 넘어서는 추상화
<ul>
<li>포팅을 쉽게 할 정도의 추상화</li>
</ul>
</li>
</ul>
<p>설정가능해야하고 플러그인 방식으로 동작</p>
<h4 id="아키텍처-모범-사례" style="position:relative;"><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%AA%A8%EB%B2%94-%EC%82%AC%EB%A1%80" aria-label="아키텍처 모범 사례 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>아키텍처 모범 사례</h4>
<p>"서버 기반 아키텍처 모범 사례가 있습니다.(단일 장애 지점 제거, 배포 전 변경
사항 테스트, 중요한 데이터 암호화 등)"
<a href="https://dc2348.tistory.com/6#:~:text=%EC%84%9C%EB%B2%84%20%EA%B8%B0%EB%B0%98%20%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%20%EB%AA%A8%EB%B2%94%20%EC%82%AC%EB%A1%80%EA%B0%80%20%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4.(%EB%8B%A8%EC%9D%BC%20%EC%9E%A5%EC%95%A0%20%EC%A7%80%EC%A0%90%20%EC%A0%9C%EA%B1%B0%2C%20%EB%B0%B0%ED%8F%AC%20%EC%A0%84%20%EB%B3%80%EA%B2%BD%20%EC%82%AC%ED%95%AD%20%ED%85%8C%EC%8A%A4%ED%8A%B8%2C%20%EC%A4%91%EC%9A%94%ED%95%9C%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%95%94%ED%98%B8%ED%99%94%20%EB%93%B1)">https://dc2348.tistory.com/6#:~:text=%EC%84%9C%EB%B2%84%20%EA%B8%B0%EB%B0%98%20%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%20%EB%AA%A8%EB%B2%94%20%EC%82%AC%EB%A1%80%EA%B0%80%20%EC%9E%88%EC%8A%B5%EB%8B%88%EB%8B%A4.(%EB%8B%A8%EC%9D%BC%20%EC%9E%A5%EC%95%A0%20%EC%A7%80%EC%A0%90%20%EC%A0%9C%EA%B1%B0%2C%20%EB%B0%B0%ED%8F%AC%20%EC%A0%84%20%EB%B3%80%EA%B2%BD%20%EC%82%AC%ED%95%AD%20%ED%85%8C%EC%8A%A4%ED%8A%B8%2C%20%EC%A4%91%EC%9A%94%ED%95%9C%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%95%94%ED%98%B8%ED%99%94%20%EB%93%B1)</a></p>
<h2 id="msa" style="position:relative;"><a href="#msa" aria-label="msa permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></section><div role="link" tabindex="0"><a href="/msa/">msa</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></h2>
<h2 id="devops" style="position:relative;"><a href="#devops" aria-label="devops permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></section><div role="link" tabindex="0"><a href="/devops/">devops</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></h2>
<h2 id="프로젝트를-모듈로-구성" style="position:relative;"><a href="#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%A5%BC-%EB%AA%A8%EB%93%88%EB%A1%9C-%EA%B5%AC%EC%84%B1" aria-label="프로젝트를 모듈로 구성 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>프로젝트를 </section><div role="link" tabindex="0"><a href="/모듈/">모듈</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section>로 구성</h2>
<h2 id="분산" style="position:relative;"><a href="#%EB%B6%84%EC%82%B0" aria-label="분산 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></section><div role="link" tabindex="0"><a href="/분산/">분산</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></h2>
<ul>
<li>단순한 동작을 여러겹으로 겹치면 깔끔하고 보기도 좋지 않을까?</li>
</ul>
<hr>
<h2 id="sre" style="position:relative;"><a href="#sre" aria-label="sre permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SRE</h2>
<p>To upgrade site reliability</p>
<ol>
<li>Monitoring
<ul>
<li>Monitoring various content</li>
<li>Make automation</li>
</ul>
</li>
<li>Performance check</li>
</ol>
<p>Quick recovery scenario</p>
<ul>
<li>Check error 5xx, when error occurred rollback to prev version. And reporting
error situation. Which are link, behavior, data, code line, build package,
(commit source)</li>
</ul>
<h4 id="서비스-사용자-수용량-확인" style="position:relative;"><a href="#%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%88%98%EC%9A%A9%EB%9F%89-%ED%99%95%EC%9D%B8" aria-label="서비스 사용자 수용량 확인 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>서비스 사용자 수용량 확인</h4>
<p>서비스가 빠른지 확인 방법 Throughput, Latency</p>
<ul>
<li>Throughput 시간당 처리량 TPS, RPS 등
<ul>
<li>병목 발생한다</li>
</ul>
</li>
<li>Latency 응답 지연 시간
<ul>
<li>모든 서비스 지연시간이 영향을 준다</li>
</ul>
</li>
</ul>
<p>부하발생시키기</p>
<h2 id="아키텍처-레퍼런스" style="position:relative;"><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4" aria-label="아키텍처 레퍼런스 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>아키텍처 레퍼런스</h2>
<h4 id="시퀀스" style="position:relative;"><a href="#%EC%8B%9C%ED%80%80%EC%8A%A4" aria-label="시퀀스 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>시퀀스</h4>
<p>어두운 도서관 입구에서 시작해서<br>
가장 중심인 곳은 가장 밝은 판테온 형태의 밝은 전시관이 있다</p>
<p></section><div role="link" tabindex="0"><a href="/2022-05-01/#빨강---핑크---보라">빨강 - 핑크 - 보라</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></p>
<h4 id="패턴화" style="position:relative;"><a href="#%ED%8C%A8%ED%84%B4%ED%99%94" aria-label="패턴화 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>패턴화</h4>
<p>가드레일을 만들되 자유도를 느낄 수 있도록</p>
<p>젤다의전설<br>
오픈형월드게임</p>
<h4 id="당근마켓-당근페이-인프라-구축-이야기" style="position:relative;"><a href="#%EB%8B%B9%EA%B7%BC%EB%A7%88%EC%BC%93-%EB%8B%B9%EA%B7%BC%ED%8E%98%EC%9D%B4-%EC%9D%B8%ED%94%84%EB%9D%BC-%EA%B5%AC%EC%B6%95-%EC%9D%B4%EC%95%BC%EA%B8%B0" aria-label="당근마켓 당근페이 인프라 구축 이야기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>당근마켓 당근페이 인프라 구축 이야기</h4>
<p>핀테크 기업으로서 보안 등 제약이 있는 상황에서 클라우드 서비스를 이용해야 했음</p>
<ol>
<li>로그인서비스를 어떻게 구성했는가
<ul>
<li>계정 별로 환경 분리</li>
<li>로그인 제한 -> 계정 별로 분리되어있지만 로그인은 대표계정에서 한다. cloudfnc와 동일하네
<ul>
<li>로그인은 security라는 계정이고 이 계정은 로그인만을 위해서 사용하고, 이렇게 로그인하면 dev, sta, prod 계정에 접속이 가능하게 된다. 외부 접근권한이 있는 security가 탈취되어도 dev에 접근 못하게 되면 아무것도 할 수 없다는 식</li>
</ul>
</li>
<li>계정 탈취 시 여파 최소화</li>
</ul>
</li>
<li>서버 접근을 어떻게 할 것인가
<ul>
<li>teleport - ssh 접속 후 행동을 영상으로 녹화해서 보여준다</li>
</ul>
</li>
<li>애플리케이션 구성을 어떻게 할 것인가
<ul>
<li>kubernetes vs ec2</li>
<li>쿠버네티스가 오버 엔지니어링이 아닐까 싶었지만
같은 회사 다른 서비스에서 사용중이어서 조언을 얻을 수 있었고, 같은 팀의 팀원이 사용 경험이 있어서 충분히 도움을 받을 수 있는 환경이어서 사용하기로 했다</li>
<li>alb -> istio 변환 예정</li>
</ul>
</li>
<li>배포 파이프라인 구성을 어떻게 할 것인가
<ul>
<li>eks 에 맞는 도구를 찾으려고 했다</li>
<li>툴에 대한 운영 경험이 있고 Github과 연계가 손쉽게 구성될 수 있는 기술 스택 선택</li>
<li>Github Actions, Argocd, Argocd pipeline</li>
<li>github 설치형을 n5.4xlarge 에 사용. 디스크 관리만 하면 무리없이 사용하기에 좋았음</li>
</ul>
</li>
<li>관측 시스템을 어떻게 구성할 것인가
<ul>
<li>컨플라이언스 (보안) 문제로 SaaS 사용이 힘들었음 (Datadog, new relic 등)</li>
<li>ElasticStack, Prometheus, Grafana 로 직접 구축</li>
<li>FileBeat, Node Exporter 는 DaemonSet으로 올림</li>
<li>Prometheus Operator를 이용해 Prometheus를 구성함</li>
<li>AWS 리소스는 CloudWatch를 통해 모니터링
<ul>
<li>SNS -> AWS Chatbot을 통해 Slack 으로 발송. (이전에는 람다를 직접 구현했어야했음)</li>
</ul>
</li>
</ul>
</li>
<li>성능 테스트를 어떻게 진행할 것인가
<ul>
<li>locust (kubernetes용인 klocust를 이용)</li>
<li>테스트의 목적
<ul>
<li>최대 성능을 측정하는 형태는 목적이 불분명</li>
<li>10분 동안의 테스트를 통해 99퍼센타일 응답 시간이 100 ms 이내일 때의 최대 TPS를 구하려고 함 -> 99%가 진행됐을 때의 응답 시간이 100ms ?</li>
<li>파드 하나당 400TPS 라는 수치를 얻게 됨</li>
</ul>
</li>
<li>테스트를 하면서 close_wait 소켓이 쌓이는 현상 발견. undertow를 netty로 변경</li>
</ul>
</li>
</ol>
<p><a href="https://www.youtube.com/watch?v=8a2-b9X7Xno">https://www.youtube.com/watch?v=8a2-b9X7Xno</a></p>
<h2 id="분산-1" style="position:relative;"><a href="#%EB%B6%84%EC%82%B0-1" aria-label="분산 1 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>분산</h2>
<p>1인가구, 마이크로 서비스 아키텍처, 블록체인의 탈중앙화가 닮은 것 같다</p>
<ul>
<li>탈중앙화</li>
<li>분산화</li>
<li>민주주의</li>
<li>분산 서비스</li>
<li>고가용성</li>
<li>마이크로서비스</li>
<li>조직 구조도?</li>
</ul>
<p>확장은 필연적으로 복잡성을 만든다</p>
<p></section><div role="link" tabindex="0"><a href="/technology/#분산-대-탈중앙화">분산 대 탈중앙화</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></p>
<h4 id="이동통신-시스템이-분산-처리-시스템에서-잘-돌아가고-있는-사례인-것-같다" style="position:relative;"><a href="#%EC%9D%B4%EB%8F%99%ED%86%B5%EC%8B%A0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%9D%B4-%EB%B6%84%EC%82%B0-%EC%B2%98%EB%A6%AC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%9E%98-%EB%8F%8C%EC%95%84%EA%B0%80%EA%B3%A0-%EC%9E%88%EB%8A%94-%EC%82%AC%EB%A1%80%EC%9D%B8-%EA%B2%83-%EA%B0%99%EB%8B%A4" aria-label="이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>이동통신 시스템이 분산 처리 시스템에서 잘 돌아가고 있는 사례인 것 같다</h4>
<p>데이터베이스의 레플리카 기능과 샤딩
일라스틱서치
하둡</p>
<h4 id="multi-processing" style="position:relative;"><a href="#multi-processing" aria-label="multi processing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multi Processing</h4>
<p>분산 시스템의 고민과 비슷한 고민이 멀티 프로세스를 사용하려는 시도에도 있겠다.</p>
<p>MPI라는 인터페이스가 있다.</p>
<ul>
<li><a href="https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI">https://operatingsystems.tistory.com/entry/High-Performance-Computing-MPI</a></li>
<li><a href="http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf">http://hpcschool.kr/usc/wp-content/uploads/sites/10/2014/04/MPI.pdf</a></li>
</ul>
<p>Apache의 MPM</p>
<h4 id="분산-개발-환경의-해결책으로-ci가-나왔다" style="position:relative;"><a href="#%EB%B6%84%EC%82%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%98-%ED%95%B4%EA%B2%B0%EC%B1%85%EC%9C%BC%EB%A1%9C-ci%EA%B0%80-%EB%82%98%EC%99%94%EB%8B%A4" aria-label="분산 개발 환경의 해결책으로 ci가 나왔다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>분산 개발 환경의 해결책으로 ci가 나왔다</h4>
<p>분산 서비스간의 통합도 ci 같이 할 수 있을까</p>
<p>일단 데이터를 통합하는 서비스를 이용한다던가</p>
<h4 id="계층적인-것과-분산된-것" style="position:relative;"><a href="#%EA%B3%84%EC%B8%B5%EC%A0%81%EC%9D%B8-%EA%B2%83%EA%B3%BC-%EB%B6%84%EC%82%B0%EB%90%9C-%EA%B2%83" aria-label="계층적인 것과 분산된 것 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>계층적인 것과 분산된 것</h4>
<p>중첩
폴더 안에 폴더를 두는 구조는 유용하지만 복잡해져서 별로 안좋은 것 같다
그래서 프로젝트 사이즈도 폴더 중첩이 없는 정도로 나누고 싶은데
그러다보면 작은 덩어리가 많아져서 어디에 무엇이 있는지 모를 수 있겠다
그래서 정돈이 필요한데, 이 정돈을 어떻게 할 수 있을까</p>
<p>트리 구조의 깊이가 깊어지는 것과 넓이가 넓어지는 것은 비슷한 복잡도인가?</p>
<p>넓이가 넓어져서 관리가 힘들 상황을 생각해보면, 놀이터가 넓으면 선생님이 주변에
있는 아이가 아니면 어떤 일이 벌어지는지 알 수 없다</p>
<p>복잡성을 염두에 두고 미리 뼈대를 만들어 놓는 것보다, 작게 분리하는 것이 복잡성을
컨트롤 할 더 나은 방법 같다.
자바의 폴더구조가 처음부터 중첩된 폴더를 미리 만들어 놓는 방식인데, 이런 부분이
거슬린다. 폴더 안에 폴더가 들어가면서 깊어지면 컨트롤이 어려워질 것 같다.</p>
<ul>
<li>근데 go standard layout 에서 cmd 폴더 안에 메인 함수들을 폴더로 구성하게 하는</li>
</ul>
<p>것을 추천해서 자바와 비슷한 구조를 베스트 프렉티스로 했다. 복잡한 서비스에서는
중첩이 최선인가. 3단 중첩은 필요한가</p>
<p></section><div role="link" tabindex="0"><a href="/about_development/#module">module</a><div role="link" tabindex="0" style="background:#343a40;position:absolute;z-index:1;margin-left:100px;width:50%"></div></div><section></p>
<h4 id="마이크로서비스의-해법을-다른-분산-시스템에서-얻고자-한다" style="position:relative;"><a href="#%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%EC%9D%98-%ED%95%B4%EB%B2%95%EC%9D%84-%EB%8B%A4%EB%A5%B8-%EB%B6%84%EC%82%B0-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90%EC%84%9C-%EC%96%BB%EA%B3%A0%EC%9E%90-%ED%95%9C%EB%8B%A4" aria-label="마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마이크로서비스의 해법을 다른 분산 시스템에서 얻고자 한다</h4>
<p>전체를 퉁쳐서 하나로 규정하려는게 아니라
기존의 문제점들을 확인하고 어떤 해법들이 있었는지 정보를 얻기 위해서</p>
<h4 id="라즈베리파이" style="position:relative;"><a href="#%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4" aria-label="라즈베리파이 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>라즈베리파이</h4>
<p>라즈베리파이를 여러 대 두면 라즈베리파이가 하나씩 고장날 때마다 고쳐야 한다는
의미도 된다.
데스크탑 하나만 쓰면 전체가 한번에 관리된다.
물론 라즈베리파이 쪽이 싸게 처리되지만, 100대가 있을 때 매번 고치기는 힘들 것
같다.</p>
<p>대신 라즈베리파이 하나가 고장나도 시스템은 그대로 유지될 수 있다는 장점이 있다.</p>
<h4 id="아키텍처-노하우" style="position:relative;"><a href="#%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EB%85%B8%ED%95%98%EC%9A%B0" aria-label="아키텍처 노하우 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>아키텍처 노하우</h4>
<ul>
<li>변하는 것과 변하지 않을 것을 구분하기 위한 나열</li>
<li>시나리오 전개</li>
<li>완성본을 상상</li>
<li>적재적소</li>
</ul>
<h4 id="알림-시스템-설계" style="position:relative;"><a href="#%EC%95%8C%EB%A6%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EC%84%A4%EA%B3%84" aria-label="알림 시스템 설계 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>알림 시스템 설계</h4>
<p>가상 면접 사례로 배우는 대규모 시스템 설계 기초</p>
<ul>
<li>인사이트</li>
</ul>
<p>10장 알림 시스템 설계</p>
<p>kums의 설계와 매우 유사하게 구성되어있다<br>
신기하다</p>
<h4 id="정적페이지로-최대한-만들어서-cdn-이용하기" style="position:relative;"><a href="#%EC%A0%95%EC%A0%81%ED%8E%98%EC%9D%B4%EC%A7%80%EB%A1%9C-%EC%B5%9C%EB%8C%80%ED%95%9C-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%84%9C-cdn-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0" aria-label="정적페이지로 최대한 만들어서 cdn 이용하기 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>정적페이지로 최대한 만들어서 cdn 이용하기</h4></section><hr/></article><nav><div style="max-width:90%"><span><a href="/about_development/">/about_development/</a>,</span><span><a href="/architecture/">/architecture/</a>,</span><span><a aria-current="page" class="" href="/about_architecture/">/about_architecture/</a>,</span><span><a href="/blogging/">/blogging/</a>,</span><span><a href="/ci_cd/">/ci_cd/</a>,</span><span><a href="/coding/">/coding/</a>,</span><span><a href="/company/">/company/</a>,</span><span><a href="/collection/">/collection/</a>,</span><span><a href="/data/">/data/</a>,</span><span><a href="/decision/">/decision/</a>,</span><span><a href="/developer/">/developer/</a>,</span><span><a href="/devops/">/devops/</a>,</span><span><a href="/document/">/document/</a>,</span><span><a href="/evolve/">/evolve/</a>,</span><span><a href="/history/">/history/</a>,</span><span><a href="/journal/">/journal/</a>,</span><span><a href="/msa/">/msa/</a>,</span><span><a href="/reality/">/reality/</a>,</span><span><a href="/standard/">/standard/</a>,</span><span><a href="/software/">/software/</a>,</span><span><a href="/team_management/">/team_management/</a>,</span><span><a href="/technology/">/technology/</a>,</span><span><a href="/blog/note_management/">/blog/note_management/</a>,</span><span><a href="/reading/">/reading/</a>,</span></div>Tag: <a href="/tags/">develop</a><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/standard/">← <!-- -->적응하고 깨부수기</a></li><li><a rel="next" href="/connection/"> →</a></li></ul></nav><div></div></main><footer><small>© 2020, Built with<!-- --> <a href="https://www.gatsbyjs.org">Gatsby</a>, Inspired by<!-- --> <a href="https://johngrib.github.io/">john grib</a> and<!-- --> <a href="https://devroom.io">Ariejan de Vroom</a></small></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/about_architecture/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f50fb1b581656fc6a4f4.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-c1f01ef78ea3e2021cf7.js\"],\"component---src-pages-about-js\":[\"/component---src-pages-about-js-2b56c919f1406d5412e6.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-38c2415016a6feaad484.js\"],\"component---src-pages-tags-js\":[\"/component---src-pages-tags-js-f6ee6af672741aaf4e86.js\"],\"component---src-pages-wiki-js\":[\"/component---src-pages-wiki-js-2edb01785227042b2449.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-2a7ca791b2c5ec08d1c1.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="89593b0406919a8ef594";</script><script src="/webpack-runtime-d910ecff3fb8d45b44cc.js" async></script><script src="/framework-4a0f90577491d89bee07.js" async></script><script src="/app-f50fb1b581656fc6a4f4.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>